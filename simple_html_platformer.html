<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple HTML Platformer - 20 Levels</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        #gameContainer {
            position: relative;
            width: 800px;
            height: 600px;
            background: linear-gradient(to bottom, #87CEEB, #E0F6FF);
            border: 3px solid #333;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        #player {
            position: absolute;
            width: 30px;
            height: 40px;
            background: #FF6B6B;
            border-radius: 5px;
            left: 50px;
            top: 450px;
            z-index: 100;
        }

        .platform {
            position: absolute;
            background: #8B7355;
            border: 2px solid #654321;
        }

        .enemy {
            position: absolute;
            width: 25px;
            height: 25px;
            background: #FFD700;
            border: 2px solid #FFA500;
            border-radius: 50%;
            z-index: 50;
        }

        .spike {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #FF0000;
            clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
        }

        .goal {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #00FF00;
            border: 2px solid #008000;
            border-radius: 50%;
            z-index: 75;
        }

        #ui {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 200;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 16px;
        }

        #gameOver {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.95);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            z-index: 300;
            display: none;
            min-width: 300px;
        }

        #gameOver h1 {
            font-size: 28px;
            margin-bottom: 20px;
        }

        #gameOver p {
            font-size: 18px;
            margin-bottom: 15px;
        }

        #gameOver button {
            padding: 10px 20px;
            font-size: 16px;
            margin: 5px;
            cursor: pointer;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
        }

        #gameOver button:hover {
            background: #764ba2;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div id="player"></div>
        <div id="ui">
            <div>Level: <span id="levelNum">1</span>/20</div>
            <div>Lives: <span id="lives">3</span></div>
        </div>
        <div id="gameOver">
            <h1 id="gameOverTitle">Game Over</h1>
            <p id="gameOverText"></p>
            <button onclick="location.reload()">Restart Game</button>
        </div>
    </div>

    <script>
        const gameContainer = document.getElementById('gameContainer');
        const player = document.getElementById('player');
        const uiLevel = document.getElementById('levelNum');
        const uiLives = document.getElementById('lives');
        const gameOverDiv = document.getElementById('gameOver');

        let currentLevel = 1;
        let lives = 3;
        let gameActive = true;
        let playerX = 50;
        let playerY = 450;
        let playerVelY = 0;
        let playerVelX = 0;
        let isJumping = false;
        let maxLevels = 20;

        const GRAVITY = 0.6;
        const JUMP_STRENGTH = -12;
        const MOVE_SPEED = 5;

        // Level designs with platforms, enemies, and spikes
        const levels = [
            // Level 1: Simple intro
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50}, // Ground
                    {x: 200, y: 450, w: 150, h: 20},
                    {x: 500, y: 400, w: 150, h: 20},
                ],
                enemies: [],
                spikes: [],
                goalX: 700,
                goalY: 350
            },
            // Level 2: First enemy
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 100, y: 450, w: 120, h: 20},
                    {x: 300, y: 400, w: 150, h: 20},
                    {x: 550, y: 350, w: 120, h: 20},
                ],
                enemies: [{x: 320, y: 360, minX: 300, maxX: 450}],
                spikes: [],
                goalX: 700, goalY: 300
            },
            // Level 3: Spike introduction
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 80, y: 450, w: 150, h: 20},
                    {x: 300, y: 400, w: 100, h: 20},
                    {x: 500, y: 350, w: 150, h: 20},
                ],
                enemies: [],
                spikes: [{x: 350, y: 420}, {x: 355, y: 420}],
                goalX: 700, goalY: 300
            },
            // Level 4: Climbing challenge
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 100, y: 480, w: 100, h: 20},
                    {x: 250, y: 400, w: 100, h: 20},
                    {x: 400, y: 320, w: 100, h: 20},
                    {x: 550, y: 240, w: 100, h: 20},
                ],
                enemies: [{x: 300, y: 360, minX: 250, maxX: 400}],
                spikes: [],
                goalX: 700, goalY: 150
            },
            // Level 5: Double jumping challenge
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 80, y: 480, w: 80, h: 20},
                    {x: 200, y: 430, w: 80, h: 20},
                    {x: 320, y: 380, w: 80, h: 20},
                    {x: 440, y: 330, w: 80, h: 20},
                    {x: 560, y: 280, w: 80, h: 20},
                ],
                enemies: [{x: 450, y: 290, minX: 440, maxX: 540}],
                spikes: [{x: 350, y: 400}, {x: 355, y: 400}],
                goalX: 700, goalY: 200
            },
            // Level 6: Multiple enemies
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 100, y: 450, w: 140, h: 20},
                    {x: 300, y: 400, w: 140, h: 20},
                    {x: 500, y: 350, w: 140, h: 20},
                ],
                enemies: [
                    {x: 150, y: 410, minX: 100, maxX: 240},
                    {x: 520, y: 310, minX: 500, maxX: 640}
                ],
                spikes: [{x: 450, y: 420}],
                goalX: 680, goalY: 300
            },
            // Level 7: Spike gauntlet
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 80, y: 450, w: 100, h: 20},
                    {x: 220, y: 400, w: 100, h: 20},
                    {x: 360, y: 350, w: 100, h: 20},
                    {x: 500, y: 300, w: 100, h: 20},
                    {x: 640, y: 250, w: 100, h: 20},
                ],
                enemies: [],
                spikes: [
                    {x: 250, y: 420}, {x: 255, y: 420},
                    {x: 390, y: 370}, {x: 395, y: 370},
                    {x: 530, y: 320}, {x: 535, y: 320}
                ],
                goalX: 720, goalY: 180
            },
            // Level 8: Boss rush
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 100, y: 480, w: 120, h: 20},
                    {x: 280, y: 420, w: 120, h: 20},
                    {x: 460, y: 360, w: 120, h: 20},
                    {x: 600, y: 300, w: 150, h: 20},
                ],
                enemies: [
                    {x: 150, y: 440, minX: 100, maxX: 220},
                    {x: 330, y: 380, minX: 280, maxX: 400},
                    {x: 510, y: 320, minX: 460, maxX: 580}
                ],
                spikes: [{x: 550, y: 380}],
                goalX: 720, goalY: 240
            },
            // Level 9: Narrow passages
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 80, y: 480, w: 60, h: 20},
                    {x: 180, y: 420, w: 60, h: 20},
                    {x: 280, y: 360, w: 60, h: 20},
                    {x: 380, y: 300, w: 60, h: 20},
                    {x: 480, y: 240, w: 60, h: 20},
                    {x: 580, y: 180, w: 60, h: 20},
                ],
                enemies: [{x: 200, y: 380, minX: 180, maxX: 280}],
                spikes: [{x: 300, y: 380}, {x: 305, y: 380}, {x: 500, y: 260}],
                goalX: 700, goalY: 120
            },
            // Level 10: Halfway milestone - Complex platforming
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 80, y: 480, w: 100, h: 20},
                    {x: 200, y: 420, w: 80, h: 20},
                    {x: 320, y: 360, w: 100, h: 20},
                    {x: 450, y: 300, w: 80, h: 20},
                    {x: 570, y: 240, w: 100, h: 20},
                    {x: 300, y: 200, w: 80, h: 20},
                ],
                enemies: [
                    {x: 250, y: 380, minX: 200, maxX: 300},
                    {x: 480, y: 260, minX: 450, maxX: 530}
                ],
                spikes: [
                    {x: 350, y: 380}, {x: 355, y: 380},
                    {x: 600, y: 260}
                ],
                goalX: 350, goalY: 140
            },
            // Level 11: Three-tier tower
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 50, y: 480, w: 120, h: 20},
                    {x: 100, y: 380, w: 120, h: 20},
                    {x: 150, y: 280, w: 120, h: 20},
                    {x: 500, y: 450, w: 100, h: 20},
                    {x: 550, y: 350, w: 100, h: 20},
                    {x: 600, y: 250, w: 100, h: 20},
                ],
                enemies: [
                    {x: 180, y: 340, minX: 150, maxX: 270},
                    {x: 600, y: 310, minX: 550, maxX: 700}
                ],
                spikes: [{x: 200, y: 300}, {x: 570, y: 370}],
                goalX: 700, goalY: 200
            },
            // Level 12: Spiral descent
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 600, y: 480, w: 150, h: 20},
                    {x: 400, y: 420, w: 150, h: 20},
                    {x: 200, y: 360, w: 150, h: 20},
                    {x: 500, y: 300, w: 150, h: 20},
                    {x: 150, y: 240, w: 150, h: 20},
                ],
                enemies: [{x: 480, y: 260, minX: 450, maxX: 650}],
                spikes: [
                    {x: 320, y: 380}, {x: 325, y: 380},
                    {x: 600, y: 320}
                ],
                goalX: 250, goalY: 180
            },
            // Level 13: Enemy field
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 80, y: 480, w: 100, h: 20},
                    {x: 220, y: 450, w: 100, h: 20},
                    {x: 360, y: 420, w: 100, h: 20},
                    {x: 500, y: 390, w: 100, h: 20},
                    {x: 640, y: 360, w: 100, h: 20},
                    {x: 750, y: 300, w: 50, h: 20},
                ],
                enemies: [
                    {x: 150, y: 440, minX: 80, maxX: 180},
                    {x: 290, y: 410, minX: 220, maxX: 360},
                    {x: 430, y: 380, minX: 360, maxX: 500},
                    {x: 570, y: 350, minX: 500, maxX: 640}
                ],
                spikes: [],
                goalX: 770, goalY: 240
            },
            // Level 14: The maze
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 80, y: 480, w: 150, h: 20},
                    {x: 300, y: 480, w: 150, h: 20},
                    {x: 520, y: 480, w: 150, h: 20},
                    {x: 150, y: 380, w: 120, h: 20},
                    {x: 350, y: 380, w: 120, h: 20},
                    {x: 550, y: 380, w: 120, h: 20},
                    {x: 100, y: 280, w: 150, h: 20},
                    {x: 320, y: 280, w: 150, h: 20},
                    {x: 540, y: 280, w: 120, h: 20},
                    {x: 300, y: 180, w: 150, h: 20},
                ],
                enemies: [
                    {x: 200, y: 440, minX: 80, maxX: 230},
                    {x: 420, y: 340, minX: 350, maxX: 470}
                ],
                spikes: [
                    {x: 250, y: 400}, {x: 600, y: 300}
                ],
                goalX: 375, goalY: 120
            },
            // Level 15: Extreme challenge
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 50, y: 480, w: 80, h: 20},
                    {x: 150, y: 420, w: 80, h: 20},
                    {x: 250, y: 360, w: 80, h: 20},
                    {x: 350, y: 300, w: 80, h: 20},
                    {x: 450, y: 240, w: 80, h: 20},
                    {x: 550, y: 180, w: 80, h: 20},
                    {x: 650, y: 120, w: 100, h: 20},
                ],
                enemies: [
                    {x: 200, y: 380, minX: 150, maxX: 250},
                    {x: 400, y: 260, minX: 350, maxX: 450},
                    {x: 600, y: 140, minX: 550, maxX: 650}
                ],
                spikes: [
                    {x: 280, y: 380}, {x: 285, y: 380},
                    {x: 380, y: 320}, {x: 385, y: 320},
                    {x: 480, y: 260}
                ],
                goalX: 720, goalY: 60
            },
            // Level 16: Moving obstacles gauntlet
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 80, y: 480, w: 120, h: 20},
                    {x: 250, y: 430, w: 120, h: 20},
                    {x: 420, y: 380, w: 120, h: 20},
                    {x: 590, y: 330, w: 120, h: 20},
                    {x: 300, y: 250, w: 120, h: 20},
                ],
                enemies: [
                    {x: 150, y: 440, minX: 80, maxX: 200},
                    {x: 320, y: 390, minX: 250, maxX: 370},
                    {x: 490, y: 340, minX: 420, maxX: 540},
                    {x: 360, y: 210, minX: 300, maxX: 420}
                ],
                spikes: [
                    {x: 300, y: 450}, {x: 650, y: 350}
                ],
                goalX: 720, goalY: 200
            },
            // Level 17: Vertical ascent
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 350, y: 500, w: 100, h: 20},
                    {x: 350, y: 430, w: 100, h: 20},
                    {x: 350, y: 360, w: 100, h: 20},
                    {x: 350, y: 290, w: 100, h: 20},
                    {x: 350, y: 220, w: 100, h: 20},
                    {x: 350, y: 150, w: 100, h: 20},
                    {x: 100, y: 480, w: 80, h: 20},
                    {x: 650, y: 400, w: 80, h: 20},
                ],
                enemies: [
                    {x: 400, y: 450, minX: 350, maxX: 450},
                    {x: 400, y: 240, minX: 350, maxX: 450}
                ],
                spikes: [
                    {x: 320, y: 480}, {x: 480, y: 280}
                ],
                goalX: 400, goalY: 80
            },
            // Level 18: The labyrinth
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 100, y: 480, w: 100, h: 20},
                    {x: 250, y: 480, w: 100, h: 20},
                    {x: 400, y: 480, w: 100, h: 20},
                    {x: 550, y: 480, w: 100, h: 20},
                    {x: 700, y: 480, w: 100, h: 20},
                    {x: 50, y: 380, w: 100, h: 20},
                    {x: 200, y: 380, w: 100, h: 20},
                    {x: 350, y: 380, w: 100, h: 20},
                    {x: 500, y: 380, w: 100, h: 20},
                    {x: 650, y: 380, w: 100, h: 20},
                    {x: 150, y: 280, w: 100, h: 20},
                    {x: 300, y: 280, w: 100, h: 20},
                    {x: 450, y: 280, w: 100, h: 20},
                    {x: 600, y: 280, w: 100, h: 20},
                    {x: 400, y: 180, w: 100, h: 20},
                ],
                enemies: [
                    {x: 200, y: 440, minX: 100, maxX: 300},
                    {x: 550, y: 340, minX: 500, maxX: 650}
                ],
                spikes: [
                    {x: 500, y: 500}, {x: 505, y: 500}
                ],
                goalX: 450, goalY: 120
            },
            // Level 19: Ultimate challenge
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 60, y: 470, w: 90, h: 20},
                    {x: 180, y: 410, w: 90, h: 20},
                    {x: 300, y: 350, w: 90, h: 20},
                    {x: 420, y: 290, w: 90, h: 20},
                    {x: 540, y: 230, w: 90, h: 20},
                    {x: 660, y: 170, w: 90, h: 20},
                    {x: 200, y: 260, w: 80, h: 20},
                    {x: 500, y: 380, w: 80, h: 20},
                ],
                enemies: [
                    {x: 150, y: 430, minX: 60, maxX: 180},
                    {x: 280, y: 370, minX: 200, maxX: 390},
                    {x: 400, y: 310, minX: 300, maxX: 510},
                    {x: 580, y: 250, minX: 540, maxX: 660}
                ],
                spikes: [
                    {x: 210, y: 430}, {x: 330, y: 370}, {x: 450, y: 310},
                    {x: 570, y: 250}, {x: 250, y: 280}, {x: 530, y: 400}
                ],
                goalX: 710, goalY: 100
            },
            // Level 20: Final boss level
            {
                platforms: [
                    {x: 0, y: 550, w: 800, h: 50},
                    {x: 50, y: 480, w: 100, h: 20},
                    {x: 200, y: 420, w: 100, h: 20},
                    {x: 350, y: 360, w: 100, h: 20},
                    {x: 500, y: 300, w: 100, h: 20},
                    {x: 650, y: 240, w: 100, h: 20},
                    {x: 150, y: 300, w: 80, h: 20},
                    {x: 450, y: 420, w: 80, h: 20},
                    {x: 700, y: 120, w: 80, h: 20},
                ],
                enemies: [
                    {x: 120, y: 440, minX: 50, maxX: 150},
                    {x: 270, y: 380, minX: 200, maxX: 300},
                    {x: 420, y: 320, minX: 350, maxX: 450},
                    {x: 570, y: 260, minX: 500, maxX: 650},
                    {x: 180, y: 260, minX: 150, maxX: 230}
                ],
                spikes: [
                    {x: 220, y: 440}, {x: 500, y: 380}, {x: 650, y: 320},
                    {x: 300, y: 280}, {x: 700, y: 300}
                ],
                goalX: 740, goalY: 60
            }
        ];

        const keys = {};

        window.addEventListener('keydown', (e) => {
            keys[e.key] = true;
            if (e.key === ' ') e.preventDefault();
        });

        window.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        function isColliding(x, y, w, h, px, py, pw, ph) {
            return x < px + pw && x + w > px && y < py + ph && y + h > py;
        }

        function loadLevel(levelNum) {
            currentLevel = levelNum;
            uiLevel.textContent = currentLevel;
            gameContainer.querySelectorAll('.platform:not(#ground)').forEach(el => el.remove());
            gameContainer.querySelectorAll('.enemy').forEach(el => el.remove());
            gameContainer.querySelectorAll('.spike').forEach(el => el.remove());
            gameContainer.querySelectorAll('.goal').forEach(el => el.remove());

            const level = levels[levelNum - 1];

            level.platforms.forEach(p => {
                const platformEl = document.createElement('div');
                platformEl.className = 'platform';
                platformEl.style.left = p.x + 'px';
                platformEl.style.top = p.y + 'px';
                platformEl.style.width = p.w + 'px';
                platformEl.style.height = p.h + 'px';
                gameContainer.appendChild(platformEl);
            });

            level.enemies.forEach(e => {
                const enemyEl = document.createElement('div');
                enemyEl.className = 'enemy';
                enemyEl.style.left = e.x + 'px';
                enemyEl.style.top = e.y + 'px';
                enemyEl.dataset.minx = e.minX;
                enemyEl.dataset.maxx = e.maxX;
                enemyEl.dataset.vx = 2;
                gameContainer.appendChild(enemyEl);
            });

            level.spikes.forEach(s => {
                const spikeEl = document.createElement('div');
                spikeEl.className = 'spike';
                spikeEl.style.left = s.x + 'px';
                spikeEl.style.top = s.y + 'px';
                gameContainer.appendChild(spikeEl);
            });

            const goalEl = document.createElement('div');
            goalEl.className = 'goal';
            goalEl.style.left = level.goalX + 'px';
            goalEl.style.top = level.goalY + 'px';
            gameContainer.appendChild(goalEl);

            playerX = 50;
            playerY = 450;
            playerVelY = 0;
            playerVelX = 0;
            updatePlayerPosition();
        }

        function updatePlayerPosition() {
            player.style.left = playerX + 'px';
            player.style.top = playerY + 'px';
        }

        function updateEnemies() {
            document.querySelectorAll('.enemy').forEach(enemy => {
                let x = parseFloat(enemy.style.left);
                const minX = parseFloat(enemy.dataset.minx);
                const maxX = parseFloat(enemy.dataset.maxx);
                let vx = parseFloat(enemy.dataset.vx);

                x += vx;
                if (x <= minX || x >= maxX) vx *= -1;

                enemy.style.left = x + 'px';
                enemy.dataset.vx = vx;
            });
        }

        function checkCollisions() {
            const level = levels[currentLevel - 1];
            let isOnGround = false;

            // Platform collisions
            level.platforms.forEach(p => {
                if (isColliding(playerX, playerY, 30, 40, p.x, p.y, p.w, p.h)) {
                    if (playerVelY > 0 && playerY + 40 - playerVelY <= p.y + 5) {
                        playerY = p.y - 40;
                        playerVelY = 0;
                        isOnGround = true;
                    }
                }
            });

            // Enemy collisions
            level.enemies.forEach(e => {
                const enemies = document.querySelectorAll('.enemy');
                enemies.forEach(enemyEl => {
                    const ex = parseFloat(enemyEl.style.left);
                    const ey = parseFloat(enemyEl.style.top);
                    if (isColliding(playerX, playerY, 30, 40, ex, ey, 25, 25)) {
                        playerDeath();
                    }
                });
            });

            // Spike collisions
            level.spikes.forEach(s => {
                if (isColliding(playerX, playerY, 30, 40, s.x, s.y, 20, 20)) {
                    playerDeath();
                }
            });

            // Goal collision
            const goal = document.querySelector('.goal');
            const gx = parseFloat(goal.style.left);
            const gy = parseFloat(goal.style.top);
            if (isColliding(playerX, playerY, 30, 40, gx, gy, 30, 30)) {
                levelComplete();
            }

            return isOnGround;
        }

        function playerDeath() {
            lives--;
            uiLives.textContent = lives;
            if (lives <= 0) {
                gameActive = false;
                showGameOver('Game Over!', 'You ran out of lives!');
            } else {
                loadLevel(currentLevel);
            }
        }

        function levelComplete() {
            if (currentLevel < maxLevels) {
                currentLevel++;
                loadLevel(currentLevel);
                player.classList.add('fade-in');
            } else {
                gameActive = false;
                showGameOver('You Won!', 'Congratulations! You completed all 20 levels!');
            }
        }

        function showGameOver(title, text) {
            document.getElementById('gameOverTitle').textContent = title;
            document.getElementById('gameOverText').textContent = text;
            gameOverDiv.style.display = 'block';
        }

        function update() {
            if (!gameActive) return;

            // Player movement
            playerVelX = 0;
            if (keys['ArrowLeft'] || keys['a']) playerVelX = -MOVE_SPEED;
            if (keys['ArrowRight'] || keys['d']) playerVelX = MOVE_SPEED;

            playerX += playerVelX;

            // Keep player in bounds horizontally
            if (playerX < 0) playerX = 0;
            if (playerX + 30 > 800) playerX = 770;

            // Apply gravity
            playerVelY += GRAVITY;
            playerY += playerVelY;

            // Keep player in bounds vertically
            if (playerY + 40 > 600) {
                playerDeath();
                return;
            }

            // Check collisions and get ground status
            let isOnGround = checkCollisions();

            // Jumping
            if ((keys['ArrowUp'] || keys['w'] || keys[' ']) && isOnGround) {
                playerVelY = JUMP_STRENGTH;
                isOnGround = false;
            }

            updateEnemies();
            updatePlayerPosition();
        }

        function gameLoop() {
            update();
            requestAnimationFrame(gameLoop);
        }

        // Initialize
        loadLevel(1);
        gameLoop();
    </script>
</body>
</html>